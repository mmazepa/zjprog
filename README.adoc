Zaawansowane języki programowania
---------------------------------

*Student:* Mariusz Mazepa

*Środowisko pracy*

[options="header"]
|===============================================================================================
| System operacyjny | Powłoka | Hostingowy serwis (Git) | Edytor | Obiektowy język programowania
| Linux Xubuntu     | Bash    | GitHub                  | Atom   | Java
|===============================================================================================

*Narzędzia dla języka Java*

[options="header"]
|====================================================================================================================================================================
| Narzędzie                                      | Opis
| http://checkstyle.sourceforge.net/[checkstyle] | Checking Java source code for adherence to a Code Standard or set of validation rules (best practices).
| https://www.spinellis.gr/sw/ckjm/[ckjm]        | Calculates Chidamber and Kemerer object-oriented metrics by processing the bytecode of compiled Java files.
| https://www.sonarsource.com/[Sonar]            | SonarSource delivers what is probably the best static code analyzer you can find on the market for Java.
| http://www.lizard.ws/[Lizard]                  | Analyzing the complexity of source code right away supporting many programming languages, without any extra setup.
|====================================================================================================================================================================

Przydatne linki
---------------

* https://github.com/mre/awesome-static-analysis[Awesome Static Analysis]
* https://sonarcloud.io[SonarCloud]
* https://pmd.github.io/[PMD on GitHub]
* https://pl.wikipedia.org/wiki/Metryka_oprogramowania#Zestaw_metryk_CK[Zestaw metryk CK (Wikipedia)]

Złożoność cyklomatyczna
-----------------------

*Złożoność cyklomatyczna* – metryka oprogramowania opracowana przez
Thomasa J. McCabe'a w 1976, używana do pomiaru stopnia skomplikowania
programu. Podstawą do wyliczeń jest liczba dróg w schemacie blokowym
danego programu, co oznacza wprost liczbę punktów decyzyjnych w tym
programie. Ponadto są uwzględniane tzw. skojarzenia odśrodkowe
(ang. efferent couplings) oraz dośrodkowe (ang. afferent couplings).
W rezultacie wyznaczana jest niestabilność.

*Przykład:*

Metoda zliczająca ilość potrzebnych kroków, aby wrócić do punktu (0,0,0).
Przykładowe wykorzystanie: gra wykorzystująca układ współrzędnych. Przykładowe
wywołanie: count_steps(10,20,15) - metoda zwraca ilość kroków z (10,20,15)
do (0,0,0) najkrótszą drogą.

.ExampleClass01.java
[source,java]
-----------------
int steps = 0;
public static int count_steps(int x, int y, int z) {                           // 1=1(metoda)
  if (x > 0 && y > 0 && z > 0) { steps += 3; count_steps(x-1, y-1, z-1); }     // 3=1(if)+1(&&)+1(&&)
  else if (x > 0 && y > 0 && z == 0) { steps += 2; count_steps(x-1, y-1, z); } // 3=1(if)+1(&&)+1(&&)
  else if (x > 0 && y == 0 && z > 0) { steps += 2; count_steps(x-1, y, z-1); } // 3=1(if)+1(&&)+1(&&)
  else if (x > 0 && y == 0 && z == 0) { steps += 1; count_steps(x-1, y, z); }  // 3=1(if)+1(&&)+1(&&)
  else if (x == 0 && y > 0 && z > 0) { steps += 2; count_steps(x, y-1, z-1); } // 3=1(if)+1(&&)+1(&&)
  else if (x == 0 && y > 0 && z == 0) { steps += 1; count_steps(x, y-1, z); }  // 3=1(if)+1(&&)+1(&&)
  else if (x == 0 && y == 0 && z > 0) { steps +=1;  count_steps(x, y, z-1); }  // 3=1(if)+1(&&)+1(&&)
  else if (x == 0 && y == 0 && z == 0) return steps;                           // 3=1(if)+1(&&)+1(&&)
}                                                                              // razem: 25
int steps = count_steps(10,20,15);
-----------------

image::screenshots/lizard01.png[]

Przytaczane są poniższe wartości złożoności cyklomatycznej (McCabe Cyclomatic Complexity - MCC):

|=====================================================================================
| *MCC*       | 1-10          | 11-20         | 21-50     | 51+
| *Assesment* | not much risk | moderate risk | high risk | untestable, very high risk
|=====================================================================================
